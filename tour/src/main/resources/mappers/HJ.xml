<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Board">
	<select id="hjBoardTotal" resultType="int">
		select count(*) from Board
	</select>
	
	<select id="hjBoardList1" parameterType="Board" resultType="Board">
	  select *
		from (
		   	  select rownum rn, a.*
		  	  from (select b.* , m.m_nickname
                    from   board b, member m 
                    where b.m_id = m.m_id
                    and #{items} like '% || #{search} || %'
                    order by b_date desc, b_no) a
		     )
		where rn between #{start} and #{end}
	</select>
	
	<select id="hjBoardList2" parameterType="Board" resultType="Board">
	    select *
		from (
		   	  select rownum rn, a.*
		  	  from (select b.* , m.m_nickname
                    from   board b, member m 
                    where b.m_id = m.m_id
                    and b_kind = #{b_kind}   
                    order by b_date desc, b_no) a
		     )
		where rn between #{start} and #{end}
	</select>
	
	<select id="hjBoardList1_old" parameterType="Board" resultType="Board">
	  select *
		from (
		   	  select rownum rn, a.*
		  	  from (select b.* , m.m_nickname
                    from   board b, member m 
                    where b.m_id = m.m_id
                    order by b_date desc, b_no) a
		     )
		where rn between #{start} and #{end}
	</select>
	
	<select id="hjBoardList2_old" parameterType="Board" resultType="Board">
	    select *
		from (
		   	  select rownum rn, a.*
		  	  from (select b.* , m.m_nickname
                    from   board b, member m 
                    where b.m_id = m.m_id
                    and b_kind = #{b_kind}   
                    order by b_date desc, b_no) a
		     )
		where rn between #{start} and #{end}
	</select>
	
	<select id="hjBoardDetail" parameterType="Board" resultType="Board">
		select b.*, m.m_nickname
		from board b, member m
		where b.m_id = m.m_id
		and b.b_kind = ${b_kind}
		and b.b_no = #{b_no}
	</select>
	
</mapper>